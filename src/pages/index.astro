---
import { fetchInstagramFeed } from '../api/fetchInstagramFeed';
import { AboutSection } from '../components/home/AboutSection';
import { BaseInfoSection } from '../components/home/BaseInfoSection';
import { CountdownSection } from '../components/home/CountdownSection';
import { InstagramNewsSection } from '../components/home/InstagramNewsSection';
import { LandingSection } from '../components/home/LandingSection';
import { LinkSection } from '../components/home/LinkSection';
import { getInstragramPhotoFeed } from '../utils';

import Layout from '../components/shared/Layout.astro';

const metaTags = {
  title: 'Maj√°les',
  description: 'TODO',
  image: '/meta_image.jpg',
};

const { data } = await fetchInstagramFeed();

const igFeed = getInstragramPhotoFeed(data);
---

<Layout {...metaTags}>
  <LandingSection />
  <BaseInfoSection />
  <InstagramNewsSection client:visible igFeed={igFeed} />
  <CountdownSection client:load />
  <AboutSection />
  <LinkSection />
</Layout>
